{"ast":null,"code":"var _jsxFileName = \"D:\\\\UpGrad\\\\LiveLectures\\\\exams\\\\CapstoneProjectFinal\\\\client\\\\src\\\\components\\\\UserProfile.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UserProfile() {\n  _s();\n  const {\n    userid\n  } = useParams();\n  const [isFollow, setIsFollow] = useState(false);\n  const [user, setUser] = useState(\"\");\n  const [posts, setPosts] = useState([]);\n\n  //   follow user\n\n  const followUser = userId => {\n    fetch(\"http://localhost:8080/follow\", {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n      },\n      body: JSON.stringify({\n        followId: userId\n      })\n    }).then(res => res.json()).then(data => {\n      console.log(data);\n      setIsFollow(true);\n    }).catch(err => console.log(err));\n  };\n  const unfollowUser = userId => {\n    fetch(\"http://localhost:8080/follow\", {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n      },\n      body: JSON.stringify({\n        followId: userId\n      })\n    }).then(res => res.json()).then(data => {\n      console.log(data);\n      setIsFollow(false);\n    }).catch(err => console.log(err));\n  };\n  useEffect(() => {\n    fetch(`http://localhost:8080/user/${userid}`, {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n      }\n    }).then(res => res.json()).then(result => {\n      setUser(result.user);\n      setPosts(result.post);\n      if (result.user.followers.includes(JSON.parse(localStorage.getItem(\"user\"))._id)) {\n        setIsFollow(true);\n      }\n    }).catch(error => console.log(error));\n  }, [isFollow]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-frame\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-pic\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://upload.wikimedia.org/wikipedia/commons/5/50/User_icon-cp.svg\",\n          alt: \"profile-pic\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-data\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"space\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"nameInProfile\",\n            children: user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"followBtn\",\n            onClick: () => {\n              if (isFollow) {\n                unfollowUser(user._id);\n              } else {\n                followUser(user._id);\n              }\n            },\n            children: isFollow ? \"Unfollow\" : \"Follow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-info\",\n          style: {\n            display: \"flex\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\" \", posts.length, \" posts \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\" \", user.followers ? user.followers.length : 0, \" Followers \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\" \", user.following ? user.following.length : 0, \" Following \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n      style: {\n        width: \"90%\",\n        margin: \"25px auto\",\n        opacity: \"0.8\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gallery\",\n      children: posts.map(pics => {\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"sample\",\n          src: pics.photo,\n          className: \"item\"\n        }, pics._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n_s(UserProfile, \"HsrDH9hj5ir/yzkzSFXER2SB49Q=\", false, function () {\n  return [useParams];\n});\n_c = UserProfile;\nvar _c;\n$RefreshReg$(_c, \"UserProfile\");","map":{"version":3,"names":["React","useEffect","useState","useParams","jsxDEV","_jsxDEV","UserProfile","_s","userid","isFollow","setIsFollow","user","setUser","posts","setPosts","followUser","userId","fetch","method","headers","Authorization","localStorage","getItem","body","JSON","stringify","followId","then","res","json","data","console","log","catch","err","unfollowUser","result","post","followers","includes","parse","_id","error","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","style","display","alignItems","justifyContent","name","onClick","length","following","width","margin","opacity","map","pics","photo","_c","$RefreshReg$"],"sources":["D:/UpGrad/LiveLectures/exams/CapstoneProjectFinal/client/src/components/UserProfile.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nexport default function UserProfile() {\r\n  const { userid } = useParams();\r\n  const [isFollow, setIsFollow] = useState(false);\r\n  const [user, setUser] = useState(\"\");\r\n  const [posts, setPosts] = useState([]);\r\n\r\n  //   follow user\r\n\r\n  const followUser = (userId) => {\r\n    fetch(\"http://localhost:8080/follow\", {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({ followId: userId }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        console.log(data);\r\n        setIsFollow(true);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const unfollowUser = (userId) => {\r\n    fetch(\"http://localhost:8080/follow\", {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({ followId: userId }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        console.log(data);\r\n        setIsFollow(false);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetch(`http://localhost:8080/user/${userid}`, {\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setUser(result.user);\r\n        setPosts(result.post);\r\n        if (\r\n          result.user.followers.includes(\r\n            JSON.parse(localStorage.getItem(\"user\"))._id\r\n          )\r\n        ) {\r\n          setIsFollow(true);\r\n        }\r\n      })\r\n      .catch((error) => console.log(error));\r\n  }, [isFollow]);\r\n\r\n  return (\r\n    <div className=\"profile\">\r\n      {/* profile frame */}\r\n      <div className=\"profile-frame\">\r\n        {/* profile pic */}\r\n        <div className=\"profile-pic\">\r\n          <img\r\n            src=\"https://upload.wikimedia.org/wikipedia/commons/5/50/User_icon-cp.svg\"\r\n            alt=\"profile-pic\"\r\n          />\r\n        </div>\r\n        {/* profile data */}\r\n        <div className=\"profile-data\">\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"space\",\r\n            }}\r\n          >\r\n            <h1 className=\"nameInProfile\">{user.name}</h1>\r\n            <button\r\n              className=\"followBtn\"\r\n              onClick={() => {\r\n                if (isFollow) {\r\n                  unfollowUser(user._id);\r\n                } else {\r\n                  followUser(user._id);\r\n                }\r\n              }}\r\n            >\r\n              {isFollow ? \"Unfollow\" : \"Follow\"}\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"profile-info\" style={{ display: \"flex\" }}>\r\n            <p> {posts.length} posts </p>\r\n            <p> {user.followers ? user.followers.length : 0} Followers </p>\r\n            <p> {user.following ? user.following.length : 0} Following </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <hr style={{ width: \"90%\", margin: \"25px auto\", opacity: \"0.8\" }} />\r\n      <div className=\"gallery\">\r\n        {posts.map((pics) => {\r\n          return (\r\n            <img\r\n              alt=\"sample\"\r\n              key={pics._id}\r\n              src={pics.photo}\r\n              className=\"item\"\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}